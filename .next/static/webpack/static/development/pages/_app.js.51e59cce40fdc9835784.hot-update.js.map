{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.51e59cce40fdc9835784.hot-update.js","sources":["webpack:///./store.js"],"sourcesContent":["import fetch from 'node-fetch'\r\nimport { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport axios from 'axios'\r\n\r\nconst exampleInitialState = {\r\n  lastUpdate: 0,\r\n  light: false,\r\n  count: 0\r\n}\r\n\r\nexport const actionTypes = {\r\n  TICK: 'TICK',\r\n  INCREMENT: 'INCREMENT',\r\n  DECREMENT: 'DECREMENT',\r\n  RESET: 'RESET'\r\n}\r\n\r\nconst userInitialState = {\r\n  loading: false,\r\n  userData: null\r\n}\r\n\r\n// REDUCERS\r\n// export const reducer = (state = exampleInitialState, action) => {\r\n//   switch (action.type) {\r\n//     case actionTypes.TICK:\r\n//       return Object.assign({}, state, {\r\n//         lastUpdate: action.ts,\r\n//         light: !!action.light\r\n//       })\r\n//     case actionTypes.INCREMENT:\r\n//       return Object.assign({}, state, {\r\n//         count: state.count + 1\r\n//       })\r\n//     case actionTypes.DECREMENT:\r\n//       return Object.assign({}, state, {\r\n//         count: state.count - 1\r\n//       })\r\n//     case actionTypes.RESET:\r\n//       return Object.assign({}, state, {\r\n//         count: exampleInitialState.count\r\n//       })\r\n//     default:\r\n//       return state\r\n//   }\r\n// }\r\n\r\nexport const reducer = (state = userInitialState, action) => {\r\n  switch(action.type) {\r\n    case 'FETCH_USER_DATA':\r\n      return {\r\n        ...state,\r\n        userData: action.payload\r\n      }\r\n      case 'START_FETCHING':\r\n        return {\r\n          ...state,\r\n          loading: true\r\n        }\r\n      case 'FINISH_FETCHING':\r\n        return {\r\n          ...state,\r\n          loading: false\r\n        }\r\n      case 'USER_LOG_OUT':\r\n        return {\r\n          ...state,\r\n          userData: null\r\n        }\r\n    default: \r\n      return state\r\n  }\r\n}\r\n\r\n// ACTIONS\r\nexport const serverRenderClock = isServer => dispatch => {\r\n  return dispatch({ type: actionTypes.TICK, light: !isServer, ts: Date.now() })\r\n}\r\n\r\nexport const startClock = dispatch => {\r\n  return setInterval(() => {\r\n    dispatch({ type: actionTypes.TICK, light: true, ts: Date.now() })\r\n  }, 1000)\r\n}\r\n\r\nexport const incrementCount = () => dispatch => {\r\n  return dispatch({ type: actionTypes.INCREMENT })\r\n}\r\n\r\nexport const decrementCount = () => dispatch => {\r\n  return dispatch({ type: actionTypes.DECREMENT })\r\n}\r\n\r\nexport const resetCount = () => dispatch => {\r\n  return dispatch({ type: actionTypes.RESET })\r\n}\r\n\r\n// fetch user data action\r\n// export const fetchUserData = () => async dispatch => {\r\n//   dispatch(startFetching())\r\n//   let res = await fetch(`https://api.scrapethis.io/crapper/`)\r\n//   let data = await res.json()\r\n//   dispatch(finishFetching())\r\n\r\n//   return dispatch({ type: 'FETCH_USER_DATA', payload: data})\r\n// }\r\n\r\nexport const fetchUserData = () => async dispatch => {\r\n  dispatch(startFetching())\r\n  let data = await axios.get(`https://api.scrapethis.io//crapper/`)\r\n  dispatch(finishFetching())\r\n\r\n  return dispatch({ type: 'FETCH_USER_DATA', payload: data})\r\n}\r\n\r\nexport const startFetching = () => {\r\n  return { type: 'START_FETCHING' }\r\n}\r\n\r\nexport const finishFetching = () => {\r\n  return { type: 'FINISH_FETCHING' }\r\n}\r\n\r\nexport const userLogOut = () => dispatch => {\r\n  return dispatch({ type: 'USER_LOG_OUT' })\r\n}\r\n\r\n// export function initializeStore (initialState = exampleInitialState) {\r\n//   return createStore(\r\n//     reducer,\r\n//     initialState,\r\n//     composeWithDevTools(applyMiddleware(thunkMiddleware))\r\n//   )\r\n// }\r\n\r\nexport function initializeStore (initialState = userInitialState) {\r\n  return createStore(\r\n    reducer,\r\n    initialState,\r\n    composeWithDevTools(applyMiddleware(thunkMiddleware))\r\n  )\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;AA8BA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAtBA;AAwBA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAIA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAIA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAKA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;;;;A","sourceRoot":""}